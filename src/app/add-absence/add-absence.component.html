<div class="container" py-5>
    <div class="row mb-5">
        <div class="col-12 col-md-10 col-lg-8 col-xl-6 mx-auto">
            <div class="bg-white shadow rounded p-4">
                <h1 class="display-6 text-dark">Ajouter une absence maladie</h1>
                <hr class="bg-dark mb-5">
                <form [formGroup]="absenceForm" (ngSubmit)="onSubmitAbsenceForm()">
                    <input type="number" formControlName="index" hidden>
                    
                    <div class="form-group mb-3">
                      <label for="dateDebutInput">Date de Debut</label>
                      <div class="input-group">
                        <mat-form-field class="form-control">
                          <input matInput [matDatepicker]="picker1" formControlName="date_debut">
                          <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                          <mat-datepicker #picker1></mat-datepicker>
                        </mat-form-field>
                      </div>
                    </div>
                    
                    <div class="form-group mb-3">
                      <label for="dateFinInput">Date de Fin</label>
                      <div class="input-group">
                        <mat-form-field class="form-control">
                          <input matInput [matDatepicker]="picker2" formControlName="date_fin">
                          <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
                          <mat-datepicker #picker2></mat-datepicker>
                        </mat-form-field>
                      </div>
                    </div> 
                    
                    <div class="form-group mb-3">
                      <label for="nbrJoursInput">Nombre de jours</label>
                      <input type="number" id="nbrJoursInput" class="form-control" formControlName="nombre_jours">
                    </div>
                    
                    <div class="mb-3">
                        <label for="absenceCertificatInput" class="form-label">Certificat</label>
                        <input type="file" id="absenceCertificatInput" class="form-control" (change)="onChangeAbsenceCertificat($event)" formControlName="document_id" >
                    </div>
                
                    <div class="d-flex">
                        <button class="btn btn-success mx-auto" type="submit" [disabled]="absenceForm.invalid">Enregistrer</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    

<!--Liste des absences-->
    <div class="row">
        <div class="col-12 col-lg-8 mx-auto">
            <div class="bg-white shadow p-4 rounded">
                <h1 class="display-6 text-dark">Liste des absences maladie</h1>
                <hr class="bg-dark mb-5">

                <table class="table">
                    <thead>
                      <tr>
                        <th scope="col">#</th>
                        <th scope="col">dateDebut</th>
                        <th scope="col">dateFin</th>
                        <th scope="col">nombreJours</th>
                    
                        <th scope="col">certificat</th>
                        <th>Actions</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr *ngFor="let absence of absences; let i = index">
                        <th>{{ i }}</th>
                        <td>{{ absence.date_debut }}</td>
                        <td>{{ absence.date_fin }}</td>
                        <td>{{ absence.nombre_jours }}</td>
                        
                        <td>
                          <!--  <a *ngIf="absence.certificat" href="#" (click)="downloadPdf(absence.certificat)">Télécharger le certificat</a>
                            <span *ngIf="!absence.certificat">Pas de certificat</span>
                          </td>--> 
                        <td>
                            <button class="btn btn-primary" type="button" (click)="onEditAbsence(absence, i)">Modifier</button>
                           <!--  <button class="btn btn-danger" type="button" (click)="onDeleteAbsence(i)">Supprimer</button> -->
                        </td>
                      </tr>
                     
                    </tbody>
                  </table>
            </div>
        </div>
    </div>


  </div>

